syntax = "proto3";

package protos.encoding;

option go_package = "github.com/batchcorp/plumber-schemas/build/go/protos/encoding";

enum Type {
    NONE = 0;
    JSON = 1;
    JSON_SCHEMA = 2;
    PROTOBUF = 3;
    AVRO = 4;
}

message Protobuf {
    string root_type = 1;
    bytes zip_archive = 2;
}

message JSONSchema {
    // TODO
}

message Avro {
    bytes Schema = 1;
}

message Options {
    Type type = 1;

    // Only filled out if "type" is not NONE or JSON
    oneof Encoding {
        Protobuf protobuf = 100;
        Avro avro = 102;
        JSONSchema json_schema = 101;
    }
}
